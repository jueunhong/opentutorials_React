## 1. Create 구현: 소개

1. create 클릭하면 app의 mode가 create가 되고, 기존에 Content를 표시하는 부분이 수정을 위한 interface를 가지고 있는 컴포넌트로 바뀔 것

2. 사용자가 입력을 마치고 submit을 누르면 이벤트가 발생되어서 app 컴포넌트의 contents에 사용자가 입력한 data가 추가되어 출력됨

3. 다시 TOC컴포넌트를 클릭하면 다시 mode가 read로 바뀜

## 2. mode 변경

1. create 링크를 누르면 create 페이지로 이동, update 를 누르면 update페이지로 이동하는 링크

2. delete는 a태그가 아닌 버튼으로 구현 -> 이유: 빠른 동작을 위해 페이지를 미리 방문해두는 소프트웨어가 구현되어 있으면 delete를 미리 방문해서 삭제해버릴 수 있기 때문

3. components디렉토리 안헤 Control.js 파일로 컴포넌트 분리
   
   ```js
   import React, { Component } from 'react';
   
   class Control extends Component {
       render() {
         return (
           <ul>
             <li><a href="/create">create</a></li>
             <li><a href="/update">update</a></li>
             <li><input type="button" value="delete"></input></li>
           </ul>
         );
       }
     }
   
     export default Control;
   ```

4. 이벤트 핸들러 (App.js), 링크 클릭하면 이벤트 실행(Control.js)하도록 하고 이벤트가 실행되면 state의 mode를 이벤트 인자로 받은 create, update, delete로 바꿈
   
   App.js

```js
<Control onChangeMode={function(_mode){
          this.setState({
            mode:_mode
          });
        }.bind(this)}></Control>
```

        Control.js

```js
import React, { Component } from 'react';

class Control extends Component {
    render() {
      return (
        <ul>
          <li><a href="/create" onClick={function(e){
            e.preventDefault();
            this.props.onChangeMode('create')
          }.bind(this)}>create</a></li>
          <li><a href="/update" onClick={function(e){
            e.preventDefault();
            this.props.onChangeMode('update')
          }.bind(this)}>update</a></li>
          <li><input onClick={function(e){
            e.preventDefault();
            this.props.onChangeMode('delete')
          }.bind(this)} type="button" value="delete"></input></li>
        </ul>
      );
    }
  }

  export default Control;
```

## 3. mode 전환

1. create를 누르면 기존의 Content 컴포넌트가 아닌 쓰기 전용 컴포넌트로 바뀌도록 구현

2. 기존의 Content컴포넌트 이름을 -> ReadContent로 변경

3. 새로운 CreateContent 컴포넌트 파일 생성 (form구현은 나중에)
   
   ```js
   import React, { Component } from 'react';
   
   //article
   class CreateContent extends Component {
       render() {
         return (
           <article>
                 <h2>Create</h2>
                 <form>
                   
                 </form>
           </article>
         );
       }
     }
   
     export default CreateContent;
   ```

4. create링크를 누르면 mode에 따라 ReadContent를 CreateContent 컴포넌트로 변경시킴(render 함수 조건문 활용)
   
   - mode가 welcome이나 read면 ReadContent 컴포넌트 출력
   
   - mode가 create로 전환되면 CreateContent 컴포넌트로 출력
   
   ```js
   class App extends Component {
     constructor(props){
       super(props);
       this.state = {
         mode:'read', //페이지 구분
         selected_contents_id:2,
         subject:{title:'WEB', sub:'wolrd wide web!'}, //상위 컴포넌트의 state값 초기화, subject 값을 state화
         welcome:{title:'Welcome', desc:'Hello, React!!'},
         contents:[
           {id:1, title:'HTML', desc:'HTML is for information'},
           {id:2, title:'CSS', desc:'CSS is for design'},
           {id:3, title:'JavaScript', desc:'JavaScript is for interactive'}
         ]
       } 
     }
     render() {
       var _title, _desc, _article = null;
       if(this.state.mode === 'welcome'){
         _title = this.state.welcome.title;
         _desc = this.state.welcome.desc;
         _article = <ReadContent title={_title} desc={_desc}></ReadContent>
       }else if(this.state.mode === 'read'){
         var i = 0;
         while(i < this.state.contents.length){
           var data = this.state.contents[i];
           if(data.id === this.state.selected_contents_id){
           _title = data.title;
           _desc = data.desc;
           break;
           }
           i = i + 1;
         }
         _article = <ReadContent title={_title} desc={_desc}></ReadContent>
       } else if(this.state.mode === 'create'){
         _article= <CreateContent></CreateContent>
       }
       return (
         <div className="App">
           <Subject 
           title={this.state.subject.title}  //state값을 subject의 props값으로 다시 줌
           sub={this.state.subject.sub}
           onChangePage={function(){
             this.setState({mode:'welcome'});
           }.bind(this)}>          
           </Subject>
           <TOC
           onChangePage={function(id){
             this.setState({
               mode:'read',
               selected_contents_id:Number(id)});
           }.bind(this)}
           data={this.state.contents}
           ></TOC>
           <Control onChangeMode={function(_mode){
             this.setState({
               mode:_mode
             });
           }.bind(this)}></Control>
           {_article}
         </div>
       );
     }
   }
   
   ```
